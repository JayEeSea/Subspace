@{
    var currentPath = Context.Request.Path.Value.ToLower();
}

<nav class="space-y-2">
    <a asp-page="./Index" class="block px-4 py-2 rounded text-sm font-medium
    @(currentPath == "/identity/account/manage" || currentPath.Contains("/manage/index") ? "bg-blue-600 text-white" : "text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white")">
        Profile
    </a>

    <a asp-page="./Email" class="block px-4 py-2 rounded text-sm font-medium
        @(currentPath.Contains("/manage/email") ? "bg-blue-600 text-white" : "text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white")">
        Email
    </a>

    <a asp-page="./ChangePassword" class="block px-4 py-2 rounded text-sm font-medium
        @(currentPath.Contains("/manage/changepassword") ? "bg-blue-600 text-white" : "text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white")">
        Password
    </a>

    <a asp-page="./TwoFactorAuthentication" class="block px-4 py-2 rounded text-sm font-medium
        @(currentPath.Contains("/manage/twofactorauthentication") ? "bg-blue-600 text-white" : "text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white")">
        Two-factor authentication
    </a>

    <a asp-page="./PersonalData" class="block px-4 py-2 rounded text-sm font-medium
        @(currentPath.Contains("/manage/personaldata") ? "bg-blue-600 text-white" : "text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white")">
        Personal data
    </a>
</nav>

@functions {
    string GetClass(string currentPage, string expectedPage)
    {
        var isActive = currentPage != null && currentPage.Contains(expectedPage, StringComparison.OrdinalIgnoreCase);
        return isActive
            ? "block px-4 py-2 rounded bg-blue-500 text-white text-sm font-semibold"
            : "block px-4 py-2 rounded hover:bg-gray-100 text-sm text-gray-700";
    }
}